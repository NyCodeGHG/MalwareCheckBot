package de.nycode.malwarecheckbot.config

import ch.qos.logback.classic.Level
import com.mongodb.ConnectionString
import dev.schlaubi.envconf.environment
import dev.schlaubi.envconf.getEnv
import io.lettuce.core.RedisURI

object Config {

    val DISCORD_TOKEN by environment

    val ENVIRONMENT by getEnv(default = Environment.PRODUCTION) { Environment.valueOf(it) }

    val SENTRY_TOKEN by getEnv(default = "")

    val SENTRY_SAMPLE_RATE by getEnv(default = 1.0) { it.toDoubleOrNull() }

    val LOG_LEVEL by getEnv(default = Level.ERROR) { Level.valueOf(it) }

    val GCP_SAFE_BROWSING_API_KEY by environment

    val MONGO_CONNECTION_STRING: ConnectionString by getEnv { ConnectionString(it) }

    val MONGO_DATABASE by getEnv(default = "malware-check-bot")

    val REDIS_URI by getEnv { RedisURI.create(it) }
}
